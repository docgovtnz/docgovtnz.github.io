<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<title data-react-helmet="true">Publishing Existing Projects | Open Source and Open Data</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docgovtnz.github.io/docs/existing-projects"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Publishing Existing Projects | Open Source and Open Data"><meta data-react-helmet="true" name="description" content="The following page contains some informal suggestions for the publishing of legacy/pre-existing code bases."><meta data-react-helmet="true" property="og:description" content="The following page contains some informal suggestions for the publishing of legacy/pre-existing code bases."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docgovtnz.github.io/docs/existing-projects"><link data-react-helmet="true" rel="alternate" href="https://docgovtnz.github.io/docs/existing-projects" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docgovtnz.github.io/docs/existing-projects" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.f9fb76ae.css">
<link rel="preload" href="/assets/js/runtime~main.bb1280d3.js" as="script">
<link rel="preload" href="/assets/js/main.77bc65b4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Department of Conservation | Te Papa Atawhai" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="Department of Conservation | Te Papa Atawhai" class="themedImage_TMUO themedImage--dark_uzRr"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Policies &amp; Documentation</a><a class="navbar__item navbar__link" href="/repositories">Code Repositories</a><a class="navbar__item navbar__link" href="/data">Open Data</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/docgovtnz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menuLinkText_OKON">Overview</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/">Introduction</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menuLinkText_OKON">Contributing</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributing">Contributing Guidelines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/code-of-conduct">Code of Conduct</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menuLinkText_OKON">Processes</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/new-projects">Starting New Projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/existing-projects">Publishing Existing Projects</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menuLinkText_OKON">Security</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://www.doc.govt.nz/footer-links/privacy-and-security/responsible-disclosure-guidelines/" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="0"><span>Responsible Disclosure Guidelines<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menuLinkText_OKON">Projects</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/projects/dusky">Dusky (Kākāpō DB)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/projects/falcon">FALCON (Bird Banding DB)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menuLinkText_OKON">Legal</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/licences">Licences</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/disclaimer">Disclaimer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/copyright">Copyright</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Publishing Existing Projects</h1></header><p>The following page contains some informal suggestions for the publishing of legacy/pre-existing code bases.</p><p>With new projects that are <em>open by default</em>, it is immediately obvious that the code published will be public therefore certain considerations may be made by developers before pushing code (e.g. using environment variables, keeping DOC-specific configuration out of the repository). However, for pre-existing code bases a thorough audit of the code should be performed before its open sourcing to ensure the security and privacy of those involved in the development—even if there was always an intention to open source the code.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="considerations">Considerations<a aria-hidden="true" class="hash-link" href="#considerations" title="Direct link to heading">​</a></h2><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>Make sure the git history is removed or audited for any private information.
Simply removing information by a standard git commit will still mean there is a copy retained in the history!</p></div></div><p>Make sure that the following information is excluded from the repo. Note that these types of things should not live in the code repository, irrespective of whether it is open source or not.</p><ul><li>Are there any SQL/JSON/data migration dumps?<ul><li>Try looking for files with names similar to <code>.sql</code>, <code>.dump</code>, <code>.json</code>, <code>.n1ql</code></li></ul></li><li>Is there any private or user-identifying information?<ul><li>e.g. email addresses in commits/data</li><li>Try searching for <code>doc.govt.nz</code> or <code>@</code> across the code base; similarly search for any names of people involved in the project</li></ul></li><li>Are there any environment files, log files, certificates, private keys or key stores?<ul><li>Try looking for files with names containing <code>env</code>, <code>.p12</code>, <code>.pem</code>, <code>.key</code>, <code>.log</code> etc</li></ul></li><li>Is there any DOC-specific cloud configuration? (e.g. references to AWS account numbers, ARNs, DOC network configurations, synthesised CloudFormation stacks)</li><li>Random strings of characters may suggest a secret key or similar credentials. Automated tools can be used to help find these.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="code-scanning-tools">Code scanning tools<a aria-hidden="true" class="hash-link" href="#code-scanning-tools" title="Direct link to heading">​</a></h2><p>There are a number of automated tools that can be used to scan the code for secrets. The following have been used successfully.</p><ul><li><a href="https://github.com/Yelp/detect-secrets" target="_blank" rel="noopener noreferrer">https://github.com/Yelp/detect-secrets</a></li><li><a href="https://github.com/awslabs/git-secrets" target="_blank" rel="noopener noreferrer">https://github.com/awslabs/git-secrets</a></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="what-else">What else?<a aria-hidden="true" class="hash-link" href="#what-else" title="Direct link to heading">​</a></h2><ul><li>Ensure that the project has an updated <code>README.md</code>, also including the open source licence that has been attributed. The README should also make mention of our Contributing Guidelines, which in turn refer to our Code of Conduct.</li><li>The open source licence must be included in the repository. There are slight variations on the naming, but our convention is using the filename <code>LICENCE.md</code>.</li><li>The repository should include a <code>SECURITY.md</code> with information on our Responsible Disclosure Guidelines.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/docgovtnz/docgovtnz.github.io/edit/main/docs/processesExistingProject.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/new-projects"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Starting New Projects</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/projects/dusky"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Dusky (Kākāpō DB)<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#considerations" class="table-of-contents__link toc-highlight">Considerations</a></li><li><a href="#code-scanning-tools" class="table-of-contents__link toc-highlight">Code scanning tools</a></li><li><a href="#what-else" class="table-of-contents__link toc-highlight">What else?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">© 2021 Department of Conservation on behalf of the Crown. Content reusable under CC BY 4.0, unless stated otherwise.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.bb1280d3.js"></script>
<script src="/assets/js/main.77bc65b4.js"></script>
</body>
</html>